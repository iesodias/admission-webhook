apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: "validate-hc.svc.cluster.local"
webhooks:
  - name: "validate-hc.svc.cluster.local"
    admissionReviewVersions: [ "v1" ]
    sideEffects: None
#    timeoutSeconds: 5
    namespaceSelector:
     matchLabels:
       admission-webhook: enabled
    rules:
      - apiGroups: [""]
        apiVersions: ["v1"]
        operations: ["CREATE","UPDATE"]
        resources: ["pods","deployments"]
        scope: "*"
    clientConfig:
      service:
        namespace: admission-webhook
        name: validate-hc
        path: /validate
        port: 8080
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZrVENDQTNtZ0F3SUJBZ0lVRC9sZjQ0ZklTYVJJOFREYjhYV0h2Qlg3bFVjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1dERUxNQWtHQTFVRUJoTUNVMUF4Q3pBSkJnTlZCQWdNQWxOUU1SUXdFZ1lEVlFRS0RBdFlVRWx1WXl3ZwpTVzVqTGpFbU1DUUdBMVVFQXd3ZGRtRnNhV1JoZEdVdGFHTXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXd3dIaGNOCk1qTXdNakEzTVRVek56TXlXaGNOTWpVeE1USTNNVFV6TnpNeVdqQllNUXN3Q1FZRFZRUUdFd0pUVURFTE1Ba0cKQTFVRUNBd0NVMUF4RkRBU0JnTlZCQW9NQzFoUVNXNWpMQ0JKYm1NdU1TWXdKQVlEVlFRRERCMTJZV3hwWkdGMApaUzFvWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYkRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDCkFnb0NnZ0lCQU5BcnQvOU5rR2lrcHlLYzFJcGlKRWpzM0I0WUtaYzl1Qit2bW1zK0Z5QzNrMWJPK0d5OUVySFYKZ3V4ZFhZMlpSdDJNdE5tRVE5OVEvc2ZTaDhjeE1qTkdHR29DdExsMnFzYkN6b1Y4cGNuem5pNVdIUlhBR3kwZApmL1BvK1p6UkJLSEpFVEFHZlhNM1cyeU1xeWpvSTV5SGhkeDY3MDluRjVXdVJzbzkwWDQ4K1B3dGlrUVp4ZjNnCnh3OS9KSXJuOE1wNHFaQXE4RVF3UVlJb3lmWTl5NTd3OE9SYWE1a1Nndm5qN09hQk1JcjcvWHVmSlp3cVc5ZE8Kd3ZudVptZWpwRWlHNWNPVW4xNEFwaXI5MHdiendycktheDh2VDlscDRBYVBWRWxJRjdQdFRpR0VCa0ZFQXpjUgp6bGZWWnFjRjNzUnpKWmFFcjJDUGlHVHJmQmIvZHlVaWl6b3VzVWpQNUlQRmtGejFFTXhOUjRERG1BZEJWZXdBCnJBVlFNTHJ3eGdQbGcrWEtjMkJZUUU0UWhNMU0wVS9BVWpmcCtOSlVMNENVNlZYK1VUSHpFZlh4SmpvRHZzTm4KSjZkS2o2dFhIMnlRNXNBeFoyMWpDQloraFBYYVBON0hSTlFHOVJQcFVXUjlISW1DbGYxS2xBL3VIT1Y1MjhZOApCN2dvRk15ZFd1c3JsZVdtWWJQN3R5RVNlZkhUL3VsZ2c1UEZOTkw0N0ZsQnV6SDc5N2ovUWdvaTBGdVRwVmlQClB5MjJZaW5YUm9YUVlWNVRJUFVUQUwxajhQTWk0SjBuWjFvM2M4SU1oWjhqQ1JFTHA4azBjUkdXR0JzMTM1cTMKelh6b3d0ODVNN000YzlUVXZaUkVNU01XMjdVNjdDRzlNZCtRc28rUjdBMzdJeG9oTEFXSEFnTUJBQUdqVXpCUgpNQjBHQTFVZERnUVdCQlJXK296UnpvSng5YkNvQi9HZ0daZXlIWktNZkRBZkJnTlZIU01FR0RBV2dCUlcrb3pSCnpvSng5YkNvQi9HZ0daZXlIWktNZkRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUEwR0NTcUdTSWIzRFFFQkN3VUEKQTRJQ0FRQzM2WjdUMDlzNTFFdXMrK0ZWV08yU1lEUWc2WHJUQlVQQkxUSFNYbVgrUzdyeVRBSEFPdEJOMC8xYQpTa0tYUU04WG13N1VzL0hkNU1lRW43MlZZZjNTdFVxUm1iWkh5akxxb2xjUnU1WEF6YkU5VDQ2QTgxMGZ2dWJmCnNOZGtDV3RsdzloQktsSFpWZFZiaHIyc2hFOE91TEZBdlRRTDJRMEl0UnhGSU8vVUhDTDRpK3U0TCtRTlhPclkKQm9pUmNJbThRMmdkZzRCejB4dUtZbGRmMmhvSXhCdUN1QzV6SDhkMlB2Z0V1djJ3SzZaTmlMU01MZnVabzVoawp0ZHRtRWZrWkU1VU1na0ZURkQ1TnZEYWZmU1ppU1RBaFVQdmFITGV2V0pvTXhqMGlKNkw2NHVac2F0NDMrYVc3CjJha05sUGdyaEdyblhocm9zL2w3eHBuelB0Z1BuYnhCdE5tUm94dUxiSkgrcmFFTmVZYXFocDdmMUhMWk5qVVIKTjhrcFY5ZGw1VHhKdjZNZGxiK0JTUC9ZSEZGN05tV1kzazZHNm1yK3Ezdm1vUUlWdjBFWFlENFRpNHUxemxLYwpJdG42N2NSbVh4bWl1VmJQcTFQazlCdnNhS2NJSVJNVkNZSVZRVTU2UmY2aGVxcXNVRTVnSGE0S0haZ3pCRWxKCnE3NEhWc0xmU1hISllJbkJRaHRLNkpUekNzUjcxY1RlSjVyeTJvM25ncVhZRzBNRGltUG1xNktCd29od3dYZmQKRnRPbUpuQ0F5cjY3b3RteWJRR1A1eGZjTnlocGc4NENEYU45czlzTHg2bTBRdS9peFMxYlYrdGdIR3BTQmhuYgpmYzJMaEIvQlI2b3l1NjJEOTRORkNYYzZsTlk2cUVQa1o1bCt1ODhkT1hQTUM5Q2JpQT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVOekNDQWg4Q0ZFQ3UwYVFwUXJtUXdBZm5CdjB6aVRjZkNMSWRNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1GZ3gKQ3pBSkJnTlZCQVlUQWxOUU1Rc3dDUVlEVlFRSURBSlRVREVVTUJJR0ExVUVDZ3dMV0ZCSmJtTXNJRWx1WXk0eApKakFrQmdOVkJBTU1IWFpoYkdsa1lYUmxMV2hqTG5OMll5NWpiSFZ6ZEdWeUxteHZZMkZzTUI0WERUSXpNREl3Ck56RTFNemN6TWxvWERUSTBNRFl5TVRFMU16Y3pNbG93V0RFTE1Ba0dBMVVFQmhNQ1UxQXhDekFKQmdOVkJBZ00KQWxOUU1SUXdFZ1lEVlFRS0RBdFlVRWx1WXl3Z1NXNWpMakVtTUNRR0ExVUVBd3dkZG1Gc2FXUmhkR1V0YUdNdQpjM1pqTG1Oc2RYTjBaWEl1Ykc5allXd3dnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCCkFRRHJkNmxGM2lCMkFWNEZLUUg5d0lnRktpVHBMTmxqZm83SWUzVTVPMHZFdENrV0NYUHFiUzZKMUFzbXNvS00KK2phZ3gzYUVjYzc2K0hTRWt0Vnc4dWdCeU1OOHk2dGJjdWNJS21UQ1VtZ0pBNXhLdmM4WUpIQS83LzlDR0tJVQpRT01ENHF2RVdOaklTSmFJZE9Wcm9MVFlrVnN5RERSK1pxTkJPM1Z5Y0FIb0VTVnJORzB6cmcxQS9ZUCtLU1RhCmpQcExMQTBCajNvUktkVDN5RitORXpoRlFhL01oUGRmZnFhY0w2MEpwM0tSSzVvV3lkdnQrVEtpd1RVMHVQTzQKQ2tER0ZqUzVyc2w3MXNZOXY3SXRYK3RUbmU0K2R1OHVWYkpBMFlITGJndGZIMHZNL1dJUHFRSWVhallLeUkvLwo0YVlFUVloYUlCVDFSckF3Z0NINzVnUjVBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFMcnJZRHNICnQwWVRDMnFzWjU0ZW9TRytzWjlia1NjaDc4WEllWXZMdmpaZ2lQSCt4VkhodDhrb2g1ZWYyenRmZGF3RzJrbksKYkcvMWg1aVVjOHF2TGs1ekVyb2srbHpKTWdSejU4NHU3b2l0R1dyejFiUVJtNHM2alN4STArK1liZGxWV3BsTApJS1NKeUc0MmRXSlVZRU5zekNyZno1dGh1VUJZRXZ0REZ4eTlBdWhkbyt4NkZ5STJUb2V2ODJtbEFtUHdnV1liCmp1Z3ZZdnFDaGtIbjZFQ0RKU2ZDVGg3azk1NGpaaVFGT2JNMWcxWnFTcXNPZlN3RGxRWFN4dUNwbTdsa0xFVDIKeExIRWZDYUVvbzNkaXdrdDlPMmtiM0M3Y2JxUFRDbDB2Si9KVzZiVUVFWkhRMXQycjR4eU90Vkl0UVlxaW9RRQplVnAzQU1pM1RYWTV3QWltSUFGNHowU1pGamFFNUF5V3dGV2FBMmE3RTRHL3A2K0hTR1ZkbFhXQ1dtaWhVYVhaCjd6TzBaSFdrMDlnenlOZzc3RHUwUmx0elJLdy9oQm94dWJYVElVUlRvaDA4QjhpdTNhZk9ySGExQmtZeGFsMGYKU0VVdGdxSmw4MkJob1N5RTZiYjE0cURLaE5QNWZmS1hKUzVGWHN2ek1SaE01STZzcWpiNkljL01GS3Q5RjkzRApFbHVYOGc0QkI3RXQ1eUt0Z0RmVnpHT053OEpxT0s0ejkyWTV2QU5DQmFreU82empTTHg1TEVsUGJhOEdsRWU1Cityc083TnNLSkhXV3c2bzAyN2dvWjg2S1d6SGNLU05jbjZRMmpGT1FWVTU3ZGlmcTFVNGlhQWk3Y3poQzhGeEQKUU9jZVkrQ1NqZ29tRWFER2o4eVdHU3dQWU9zWnZSQTJVUzdXCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K

