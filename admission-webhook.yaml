apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: "validate-hc.svc.cluster.local"
webhooks:
  - name: "validate-hc.svc.cluster.local"
    admissionReviewVersions: [ "v1" ]
    sideEffects: None
#    timeoutSeconds: 5
    namespaceSelector:
     matchLabels:
       admission-webhook: enabled
    rules:
      - apiGroups: [""]
        apiVersions: ["v1"]
        operations: ["CREATE","UPDATE"]
        resources: ["pods","deployments"]
        scope: "*"
    clientConfig:
      service:
        namespace: admission-webhook
        name: validate-hc
        path: /validate
        port: 8080
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlGa1RDQ0EzbWdBd0lCQWdJVUQvbGY0NGZJU2FSSThURGI4WFdIdkJYN2xVY3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3V0RFTE1Ba0dBMVVFQmhNQ1UxQXhDekFKQmdOVkJBZ01BbE5RTVJRd0VnWURWUVFLREF0WVVFbHVZeXdnDQpTVzVqTGpFbU1DUUdBMVVFQXd3ZGRtRnNhV1JoZEdVdGFHTXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXd3dIaGNODQpNak13TWpBM01UVXpOek15V2hjTk1qVXhNVEkzTVRVek56TXlXakJZTVFzd0NRWURWUVFHRXdKVFVERUxNQWtHDQpBMVVFQ0F3Q1UxQXhGREFTQmdOVkJBb01DMWhRU1c1akxDQkpibU11TVNZd0pBWURWUVFEREIxMllXeHBaR0YwDQpaUzFvWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYkRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDDQpBZ29DZ2dJQkFOQXJ0LzlOa0dpa3B5S2MxSXBpSkVqczNCNFlLWmM5dUIrdm1tcytGeUMzazFiTytHeTlFckhWDQpndXhkWFkyWlJ0Mk10Tm1FUTk5US9zZlNoOGN4TWpOR0dHb0N0TGwycXNiQ3pvVjhwY256bmk1V0hSWEFHeTBkDQpmL1BvK1p6UkJLSEpFVEFHZlhNM1cyeU1xeWpvSTV5SGhkeDY3MDluRjVXdVJzbzkwWDQ4K1B3dGlrUVp4ZjNnDQp4dzkvSklybjhNcDRxWkFxOEVRd1FZSW95Zlk5eTU3dzhPUmFhNWtTZ3ZuajdPYUJNSXI3L1h1Zkpad3FXOWRPDQp3dm51Wm1lanBFaUc1Y09VbjE0QXBpcjkwd2J6d3JyS2F4OHZUOWxwNEFhUFZFbElGN1B0VGlHRUJrRkVBemNSDQp6bGZWWnFjRjNzUnpKWmFFcjJDUGlHVHJmQmIvZHlVaWl6b3VzVWpQNUlQRmtGejFFTXhOUjRERG1BZEJWZXdBDQpyQVZRTUxyd3hnUGxnK1hLYzJCWVFFNFFoTTFNMFUvQVVqZnArTkpVTDRDVTZWWCtVVEh6RWZYeEpqb0R2c05uDQpKNmRLajZ0WEgyeVE1c0F4WjIxakNCWitoUFhhUE43SFJOUUc5UlBwVVdSOUhJbUNsZjFLbEEvdUhPVjUyOFk4DQpCN2dvRk15ZFd1c3JsZVdtWWJQN3R5RVNlZkhUL3VsZ2c1UEZOTkw0N0ZsQnV6SDc5N2ovUWdvaTBGdVRwVmlQDQpQeTIyWWluWFJvWFFZVjVUSVBVVEFMMWo4UE1pNEowbloxbzNjOElNaFo4akNSRUxwOGswY1JHV0dCczEzNXEzDQp6WHpvd3Q4NU03TTRjOVRVdlpSRU1TTVcyN1U2N0NHOU1kK1FzbytSN0EzN0l4b2hMQVdIQWdNQkFBR2pVekJSDQpNQjBHQTFVZERnUVdCQlJXK296UnpvSng5YkNvQi9HZ0daZXlIWktNZkRBZkJnTlZIU01FR0RBV2dCUlcrb3pSDQp6b0p4OWJDb0IvR2dHWmV5SFpLTWZEQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BMEdDU3FHU0liM0RRRUJDd1VBDQpBNElDQVFDMzZaN1QwOXM1MUV1cysrRlZXTzJTWURRZzZYclRCVVBCTFRIU1htWCtTN3J5VEFIQU90Qk4wLzFhDQpTa0tYUU04WG13N1VzL0hkNU1lRW43MlZZZjNTdFVxUm1iWkh5akxxb2xjUnU1WEF6YkU5VDQ2QTgxMGZ2dWJmDQpzTmRrQ1d0bHc5aEJLbEhaVmRWYmhyMnNoRThPdUxGQXZUUUwyUTBJdFJ4RklPL1VIQ0w0aSt1NEwrUU5YT3JZDQpCb2lSY0ltOFEyZ2RnNEJ6MHh1S1lsZGYyaG9JeEJ1Q3VDNXpIOGQyUHZnRXV2MndLNlpOaUxTTUxmdVpvNWhrDQp0ZHRtRWZrWkU1VU1na0ZURkQ1TnZEYWZmU1ppU1RBaFVQdmFITGV2V0pvTXhqMGlKNkw2NHVac2F0NDMrYVc3DQoyYWtObFBncmhHcm5YaHJvcy9sN3hwbnpQdGdQbmJ4QnRObVJveHVMYkpIK3JhRU5lWWFxaHA3ZjFITFpOalVSDQpOOGtwVjlkbDVUeEp2Nk1kbGIrQlNQL1lIRkY3Tm1XWTNrNkc2bXIrcTN2bW9RSVZ2MEVYWUQ0VGk0dTF6bEtjDQpJdG42N2NSbVh4bWl1VmJQcTFQazlCdnNhS2NJSVJNVkNZSVZRVTU2UmY2aGVxcXNVRTVnSGE0S0haZ3pCRWxKDQpxNzRIVnNMZlNYSEpZSW5CUWh0SzZKVHpDc1I3MWNUZUo1cnkybzNuZ3FYWUcwTURpbVBtcTZLQndvaHd3WGZkDQpGdE9tSm5DQXlyNjdvdG15YlFHUDV4ZmNOeWhwZzg0Q0RhTjlzOXNMeDZtMFF1L2l4UzFiVit0Z0hHcFNCaG5iDQpmYzJMaEIvQlI2b3l1NjJEOTRORkNYYzZsTlk2cUVQa1o1bCt1ODhkT1hQTUM5Q2JpQT09DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0NCk1JSUVOekNDQWg4Q0ZFQ3UwYVFwUXJtUXdBZm5CdjB6aVRjZkNMSWRNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1GZ3gNCkN6QUpCZ05WQkFZVEFsTlFNUXN3Q1FZRFZRUUlEQUpUVURFVU1CSUdBMVVFQ2d3TFdGQkpibU1zSUVsdVl5NHgNCkpqQWtCZ05WQkFNTUhYWmhiR2xrWVhSbExXaGpMbk4yWXk1amJIVnpkR1Z5TG14dlkyRnNNQjRYRFRJek1ESXcNCk56RTFNemN6TWxvWERUSTBNRFl5TVRFMU16Y3pNbG93V0RFTE1Ba0dBMVVFQmhNQ1UxQXhDekFKQmdOVkJBZ00NCkFsTlFNUlF3RWdZRFZRUUtEQXRZVUVsdVl5d2dTVzVqTGpFbU1DUUdBMVVFQXd3ZGRtRnNhV1JoZEdVdGFHTXUNCmMzWmpMbU5zZFhOMFpYSXViRzlqWVd3d2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUINCkFRRHJkNmxGM2lCMkFWNEZLUUg5d0lnRktpVHBMTmxqZm83SWUzVTVPMHZFdENrV0NYUHFiUzZKMUFzbXNvS00NCitqYWd4M2FFY2M3NitIU0VrdFZ3OHVnQnlNTjh5NnRiY3VjSUttVENVbWdKQTV4S3ZjOFlKSEEvNy85Q0dLSVUNClFPTUQ0cXZFV05qSVNKYUlkT1Zyb0xUWWtWc3lERFIrWnFOQk8zVnljQUhvRVNWck5HMHpyZzFBL1lQK0tTVGENCmpQcExMQTBCajNvUktkVDN5RitORXpoRlFhL01oUGRmZnFhY0w2MEpwM0tSSzVvV3lkdnQrVEtpd1RVMHVQTzQNCkNrREdGalM1cnNsNzFzWTl2N0l0WCt0VG5lNCtkdTh1VmJKQTBZSExiZ3RmSDB2TS9XSVBxUUllYWpZS3lJLy8NCjRhWUVRWWhhSUJUMVJyQXdnQ0g3NWdSNUFnTUJBQUV3RFFZSktvWklodmNOQVFFTEJRQURnZ0lCQUxycllEc0gNCnQwWVRDMnFzWjU0ZW9TRytzWjlia1NjaDc4WEllWXZMdmpaZ2lQSCt4VkhodDhrb2g1ZWYyenRmZGF3RzJrbksNCmJHLzFoNWlVYzhxdkxrNXpFcm9rK2x6Sk1nUno1ODR1N29pdEdXcnoxYlFSbTRzNmpTeEkwKytZYmRsVldwbEwNCklLU0p5RzQyZFdKVVlFTnN6Q3JmejV0aHVVQllFdnRERnh5OUF1aGRvK3g2RnlJMlRvZXY4Mm1sQW1Qd2dXWWINCmp1Z3ZZdnFDaGtIbjZFQ0RKU2ZDVGg3azk1NGpaaVFGT2JNMWcxWnFTcXNPZlN3RGxRWFN4dUNwbTdsa0xFVDINCnhMSEVmQ2FFb28zZGl3a3Q5TzJrYjNDN2NicVBUQ2wwdkovSlc2YlVFRVpIUTF0MnI0eHlPdFZJdFFZcWlvUUUNCmVWcDNBTWkzVFhZNXdBaW1JQUY0ejBTWkZqYUU1QXlXd0ZXYUEyYTdFNEcvcDYrSFNHVmRsWFdDV21paFVhWFoNCjd6TzBaSFdrMDlnenlOZzc3RHUwUmx0elJLdy9oQm94dWJYVElVUlRvaDA4QjhpdTNhZk9ySGExQmtZeGFsMGYNClNFVXRncUpsODJCaG9TeUU2YmIxNHFES2hOUDVmZktYSlM1RlhzdnpNUmhNNUk2c3FqYjZJYy9NRkt0OUY5M0QNCkVsdVg4ZzRCQjdFdDV5S3RnRGZWekdPTnc4SnFPSzR6OTJZNXZBTkNCYWt5TzZ6alNMeDVMRWxQYmE4R2xFZTUNCityc083TnNLSkhXV3c2bzAyN2dvWjg2S1d6SGNLU05jbjZRMmpGT1FWVTU3ZGlmcTFVNGlhQWk3Y3poQzhGeEQNClFPY2VZK0NTamdvbUVhREdqOHlXR1N3UFlPc1p2UkEyVVM3Vw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K

