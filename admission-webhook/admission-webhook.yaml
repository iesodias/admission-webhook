apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: "validate-hc.svc.cluster.local"
webhooks:
  - name: "validate-hc.svc.cluster.local"
    admissionReviewVersions: [ "v1" ]
    sideEffects: None
#    timeoutSeconds: 5
    namespaceSelector:
     matchLabels:
       admission-webhook: enabled
    rules:
      - apiGroups: ["*"]
        apiVersions: ["v1"]
        operations: ["CREATE","UPDATE"]
        resources: ["pods","deployments"]
        scope: "*"
    clientConfig:
      service:
        namespace: admission-webhook
        name: validate-hc
        path: /validate
        port: 443
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlGa1RDQ0EzbWdBd0lCQWdJVUQvbGY0NGZJU2FSSThURGI4WFdIdkJYN2xVY3dEUVlKS29aSWh2Y05BUUVMDQpCUUF3V0RFTE1Ba0dBMVVFQmhNQ1UxQXhDekFKQmdOVkJBZ01BbE5RTVJRd0VnWURWUVFLREF0WVVFbHVZeXdnDQpTVzVqTGpFbU1DUUdBMVVFQXd3ZGRtRnNhV1JoZEdVdGFHTXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXd3dIaGNODQpNak13TWpBM01UVXpOek15V2hjTk1qVXhNVEkzTVRVek56TXlXakJZTVFzd0NRWURWUVFHRXdKVFVERUxNQWtHDQpBMVVFQ0F3Q1UxQXhGREFTQmdOVkJBb01DMWhRU1c1akxDQkpibU11TVNZd0pBWURWUVFEREIxMllXeHBaR0YwDQpaUzFvWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYkRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnSVBBRENDDQpBZ29DZ2dJQkFOQXJ0LzlOa0dpa3B5S2MxSXBpSkVqczNCNFlLWmM5dUIrdm1tcytGeUMzazFiTytHeTlFckhWDQpndXhkWFkyWlJ0Mk10Tm1FUTk5US9zZlNoOGN4TWpOR0dHb0N0TGwycXNiQ3pvVjhwY256bmk1V0hSWEFHeTBkDQpmL1BvK1p6UkJLSEpFVEFHZlhNM1cyeU1xeWpvSTV5SGhkeDY3MDluRjVXdVJzbzkwWDQ4K1B3dGlrUVp4ZjNnDQp4dzkvSklybjhNcDRxWkFxOEVRd1FZSW95Zlk5eTU3dzhPUmFhNWtTZ3ZuajdPYUJNSXI3L1h1Zkpad3FXOWRPDQp3dm51Wm1lanBFaUc1Y09VbjE0QXBpcjkwd2J6d3JyS2F4OHZUOWxwNEFhUFZFbElGN1B0VGlHRUJrRkVBemNSDQp6bGZWWnFjRjNzUnpKWmFFcjJDUGlHVHJmQmIvZHlVaWl6b3VzVWpQNUlQRmtGejFFTXhOUjRERG1BZEJWZXdBDQpyQVZRTUxyd3hnUGxnK1hLYzJCWVFFNFFoTTFNMFUvQVVqZnArTkpVTDRDVTZWWCtVVEh6RWZYeEpqb0R2c05uDQpKNmRLajZ0WEgyeVE1c0F4WjIxakNCWitoUFhhUE43SFJOUUc5UlBwVVdSOUhJbUNsZjFLbEEvdUhPVjUyOFk4DQpCN2dvRk15ZFd1c3JsZVdtWWJQN3R5RVNlZkhUL3VsZ2c1UEZOTkw0N0ZsQnV6SDc5N2ovUWdvaTBGdVRwVmlQDQpQeTIyWWluWFJvWFFZVjVUSVBVVEFMMWo4UE1pNEowbloxbzNjOElNaFo4akNSRUxwOGswY1JHV0dCczEzNXEzDQp6WHpvd3Q4NU03TTRjOVRVdlpSRU1TTVcyN1U2N0NHOU1kK1FzbytSN0EzN0l4b2hMQVdIQWdNQkFBR2pVekJSDQpNQjBHQTFVZERnUVdCQlJXK296UnpvSng5YkNvQi9HZ0daZXlIWktNZkRBZkJnTlZIU01FR0RBV2dCUlcrb3pSDQp6b0p4OWJDb0IvR2dHWmV5SFpLTWZEQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BMEdDU3FHU0liM0RRRUJDd1VBDQpBNElDQVFDMzZaN1QwOXM1MUV1cysrRlZXTzJTWURRZzZYclRCVVBCTFRIU1htWCtTN3J5VEFIQU90Qk4wLzFhDQpTa0tYUU04WG13N1VzL0hkNU1lRW43MlZZZjNTdFVxUm1iWkh5akxxb2xjUnU1WEF6YkU5VDQ2QTgxMGZ2dWJmDQpzTmRrQ1d0bHc5aEJLbEhaVmRWYmhyMnNoRThPdUxGQXZUUUwyUTBJdFJ4RklPL1VIQ0w0aSt1NEwrUU5YT3JZDQpCb2lSY0ltOFEyZ2RnNEJ6MHh1S1lsZGYyaG9JeEJ1Q3VDNXpIOGQyUHZnRXV2MndLNlpOaUxTTUxmdVpvNWhrDQp0ZHRtRWZrWkU1VU1na0ZURkQ1TnZEYWZmU1ppU1RBaFVQdmFITGV2V0pvTXhqMGlKNkw2NHVac2F0NDMrYVc3DQoyYWtObFBncmhHcm5YaHJvcy9sN3hwbnpQdGdQbmJ4QnRObVJveHVMYkpIK3JhRU5lWWFxaHA3ZjFITFpOalVSDQpOOGtwVjlkbDVUeEp2Nk1kbGIrQlNQL1lIRkY3Tm1XWTNrNkc2bXIrcTN2bW9RSVZ2MEVYWUQ0VGk0dTF6bEtjDQpJdG42N2NSbVh4bWl1VmJQcTFQazlCdnNhS2NJSVJNVkNZSVZRVTU2UmY2aGVxcXNVRTVnSGE0S0haZ3pCRWxKDQpxNzRIVnNMZlNYSEpZSW5CUWh0SzZKVHpDc1I3MWNUZUo1cnkybzNuZ3FYWUcwTURpbVBtcTZLQndvaHd3WGZkDQpGdE9tSm5DQXlyNjdvdG15YlFHUDV4ZmNOeWhwZzg0Q0RhTjlzOXNMeDZtMFF1L2l4UzFiVit0Z0hHcFNCaG5iDQpmYzJMaEIvQlI2b3l1NjJEOTRORkNYYzZsTlk2cUVQa1o1bCt1ODhkT1hQTUM5Q2JpQT09DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRTREQ0NBc2lnQXdJQkFnSVVjZXdhUGE4SUFQUU91ZlI0MnFIenhuU0VXak13RFFZSktvWklodmNOQVFFTApCUUF3V0RFTE1Ba0dBMVVFQmhNQ1UxQXhDekFKQmdOVkJBZ01BbE5RTVJRd0VnWURWUVFLREF0WVVFbHVZeXdnClNXNWpMakVtTUNRR0ExVUVBd3dkZG1Gc2FXUmhkR1V0YUdNdWMzWmpMbU5zZFhOMFpYSXViRzlqWVd3d0hoY04KTWpNd01qQTVNVE0xTWpJeFdoY05NalF3TWpBNU1UTTFNakl4V2pCWU1Rc3dDUVlEVlFRR0V3SlRVREVMTUFrRwpBMVVFQ0F3Q1UxQXhGREFTQmdOVkJBb01DMWhRU1c1akxDQkpibU11TVNZd0pBWURWUVFEREIxMllXeHBaR0YwClpTMW9ZeTV6ZG1NdVkyeDFjM1JsY2k1c2IyTmhiRENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0MKQVFvQ2dnRUJBT3QzcVVYZUlIWUJYZ1VwQWYzQWlBVXFKT2tzMldOK2pzaDdkVGs3UzhTMEtSWUpjK3B0TG9uVQpDeWF5Z296Nk5xREhkb1J4enZyNGRJU1MxWER5NkFISXczekxxMXR5NXdncVpNSlNhQWtEbkVxOXp4Z2tjRC92Ci8wSVlvaFJBNHdQaXE4UlkyTWhJbG9oMDVXdWd0TmlSV3pJTU5INW1vMEU3ZFhKd0FlZ1JKV3MwYlRPdURVRDkKZy80cEpOcU0ra3NzRFFHUGVoRXAxUGZJWDQwVE9FVkJyOHlFOTE5K3Bwd3ZyUW1uY3BFcm1oYkoyKzM1TXFMQgpOVFM0ODdnS1FNWVdOTG11eVh2V3hqMi9zaTFmNjFPZDdqNTI3eTVWc2tEUmdjdHVDMThmUzh6OVlnK3BBaDVxCk5ncklqLy9ocGdSQmlGb2dGUFZHc0RDQUlmdm1CSGtDQXdFQUFhT0JvVENCbmpCY0JnTlZIUkVFVlRCVGdoMTIKWVd4cFpHRjBaUzFvWXk1emRtTXVZMngxYzNSbGNpNXNiMk5oYklJUGRtRnNhV1JoZEdVdGFHTXVjM1pqZ2lGMgpZV3hwWkdGMFpTMW9ZeTVoWkcxcGMzTnBiMjR0ZDJWaWFHOXZheTV6ZG1Nd0hRWURWUjBPQkJZRUZIb2MrenlzClFaRjNRZWM2T0JmZGhTeFVwRm1STUI4R0ExVWRJd1FZTUJhQUZGYjZqTkhPZ25IMXNLZ0g4YUFabDdJZGtveDgKTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCeWlrdkFmTDAxZCsrV05SM243S01PWVozYVZzbnNoL2d4UDE5YQprRUlxa1B6bnZYNEtVTmxld3JvYU0yTGt1SzdROCtCOHNPUjR3WVRocjQ1cmNTUTB6ZjBsUWxkS0ZKSThRUytnCkMvYmdwdUtMQXZSWDhEZXBGOW1hU0JZWldzKzZMU095dDdLNUFzeHY3UllXMjJibkZjRVppeTh2RWx5eGtIUFIKaXJqdUJndGgxZHFFNVpQMmlWV0JaQWlCcXVPaDM0U01qYU5Nd3QveHMwN09aYnE1VG82djM0SHV4T2FnZzVRVApkL1VuNmJKejVKUTNodkN2a3p5WHNGNkUvU2ppWHVsWFJBZ0xNckw2RzRMY3J2cE9WaTJ0M085YlMvRXgrUVkyCmhqa2kxK2wyWnVGTVY1RStKMHVqeHM1dHYveERPZHNaa0NDa2hmUUc0NnVjc1JMNFZRaE1remZ2TkZtejI0Qk8KNUoycWgrNTlDNEgxaHJPcDRDOCtETlBHRU9sSUdZZ1plWGEvc291NVp0cjlKOXpvQnMreGQrY056ZTBsdjVUagpJbWJxcjgvYVpoZGRmQlEvckswUTFBTG1iUmhwMm9vMk9jQWh1RGh5SXhmVDMzQ2tNNHVyRUJ5MU0xQmIrWURoClB6Z0tPSjE3ZWY3U3pOZlVCV2cwVy80UWxINTNrajEyaWVYZnR5SDFlb0ZYVTNUNXBmdnJlcUp2ZXhxSjVhbEQKT2w0YmdjdEJrZTViSW90WmJGSkszUXVpM1E4WDFLSkVFMEpsQTk5ZGswaDA4YUl1ek9BUHhjZERoaW84YzlPLwowajhtbWJPdGFxSGZLL29RRzh0V1ZqQmN0YXN3RHgxSUg3bmFjOUhHRFEyRGRmZnliR0EyVHdwQVBSV2FOazU1CjRpaGxsZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K

